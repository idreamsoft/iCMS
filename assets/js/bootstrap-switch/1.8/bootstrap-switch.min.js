/*! ============================================================
 * bootstrapSwitch v1.8 by Larentis Mattia @SpiritualGuru
 * http://www.larentis.eu/
 *
 * Enhanced for radiobuttons by Stein, Peter @BdMdesigN
 * http://www.bdmdesign.org/
 *
 * Project site:
 * http://www.larentis.eu/switch/
 * ============================================================
 * Licensed under the Apache License, Version 2.0
 * http://www.apache.org/licenses/LICENSE-2.0
 * ============================================================ */
;!function(a){a.fn.bootstrapSwitch=function(d){var c='input[type!="hidden"]';var b={init:function(){return this.each(function(){var t=a(this),q,m=a(c,t),h,p,s,u=t.closest("form"),k="",j=t.attr("class"),l,e,n="开启",g="关闭",r=false,i=false;a.each(["switch-mini","switch-small","switch-large"],function(v,w){if(j.indexOf(w)>=0){k=w}});t.addClass("has-switch");if(t.data("on")!==undefined){l="switch-"+t.data("on")}if(t.data("on-label")!==undefined){n=t.data("on-label")}if(t.data("off-label")!==undefined){g=t.data("off-label")}if(t.data("label-icon")!==undefined){r=t.data("label-icon")}if(t.data("text-label")!==undefined){i=t.data("text-label")}h=a("<span>").addClass("switch-left").addClass(k).addClass(l).html(n);var f=m.clone().attr("type","hidden").val(m.is(":checked")?1:0);l="";if(t.data("off")!==undefined){l="switch-"+t.data("off")}p=a("<span>").addClass("switch-right").addClass(k).addClass(l).html(g);s=a("<label>").html("&nbsp;").addClass(k).attr("for",m.attr("id"));if(r){s.html('<i class="icon '+r+'"></i>')}if(i){s.html(""+i+"")}q=m.wrap(a("<div>")).parent().data("animated",false);if(t.data("animated")!==false){q.addClass("switch-animate").data("animated",true)}q.append(h).append(s).append(p).append(f);m.removeAttr("id").removeAttr("name");t.find(">div").addClass(m.is(":checked")?"switch-on":"switch-off");if(m.is(":disabled")){a(this).addClass("deactivate")}var o=function(v){if(t.parent("label").is(".label-change-switch")){}else{v.siblings("label").trigger("mousedown").trigger("mouseup").trigger("click")}};t.on("keydown",function(v){if(v.keyCode===32){v.stopImmediatePropagation();v.preventDefault();o(a(v.target).find("span:first"))}});h.on("click",function(v){o(a(this))});p.on("click",function(v){o(a(this))});m.on("change",function(A,y){var z=a(this),w=z.parent(),v=z.is(":checked"),x=w.is(".switch-off");A.preventDefault();if(w){w.css("left","")}a('input[type="hidden"]',w).val(v?1:0);if(x===v){if(v){w.removeClass("switch-off").addClass("switch-on")}else{w.removeClass("switch-on").addClass("switch-off")}if(w.data("animated")!==false){w.addClass("switch-animate")}if(typeof y==="boolean"&&y){return}w.parent().trigger("switch-change",{el:z,value:v})}});t.find("label").on("mousedown touchstart",function(w){var v=a(this);e=false;w.preventDefault();w.stopImmediatePropagation();v.closest("div").removeClass("switch-animate");if(v.closest(".has-switch").is(".deactivate")){v.unbind("click")}else{if(v.closest(".switch-on").parent().is(".radio-no-uncheck")){v.unbind("click")}else{v.on("mousemove touchmove",function(C){var x=a(this).closest(".make-switch"),z=(C.pageX||C.originalEvent.targetTouches[0].pageX)-x.offset().left,A=(z/x.width())*100,B=25,y=75;e=true;if(A<B){A=B}else{if(A>y){A=y}}x.find(">div").css("left",(A-y)+"%")});v.on("click touchend",function(A){var z=a(this),x=a(A.target),y=x.siblings("input");A.stopImmediatePropagation();A.preventDefault();z.unbind("mouseleave");if(e){y.prop("checked",!(parseInt(z.parent().css("left"))<-25))}else{y.prop("checked",!y.is(":checked"))}e=false;y.trigger("change")});v.on("mouseleave",function(z){var y=a(this),x=y.siblings("input");z.preventDefault();z.stopImmediatePropagation();y.unbind("mouseleave");y.trigger("mouseup");x.prop("checked",!(parseInt(y.parent().css("left"))<-25)).trigger("change")});v.on("mouseup",function(x){x.stopImmediatePropagation();x.preventDefault();a(this).unbind("mousemove")})}}});if(u.data("bootstrapSwitch")!=="injected"){u.bind("reset",function(){setTimeout(function(){u.find(".make-switch").each(function(){var v=a(this).find(c);v.prop("checked",v.is(":checked")).trigger("change")})},1)});u.data("bootstrapSwitch","injected")}})},toggleActivation:function(){var e=a(this);e.toggleClass("deactivate");e.find(c).prop("disabled",e.is(".deactivate"))},isActive:function(){return !a(this).hasClass("deactivate")},setActive:function(f){var e=a(this);if(f){e.removeClass("deactivate");e.find(c).removeAttr("disabled")}else{e.addClass("deactivate");e.find(c).attr("disabled","disabled")}},toggleState:function(e){var f=a(this).find(":checkbox");f.prop("checked",!f.is(":checked")).trigger("change",e)},toggleRadioState:function(f){var e=a(this).find(":radio");e.not(":checked").prop("checked",!e.is(":checked")).trigger("change",f)},toggleRadioStateAllowUncheck:function(f,g){var e=a(this).find(":radio");if(f){e.not(":checked").trigger("change",g)}else{e.not(":checked").prop("checked",!e.is(":checked")).trigger("change",g)}},setState:function(f,e){a(this).find(c).prop("checked",f).trigger("change",e)},setOnLabel:function(f){var e=a(this).find(".switch-left");e.html(f)},setOffLabel:function(e){var f=a(this).find(".switch-right");f.html(e)},setOnClass:function(g){var f=a(this).find(".switch-left");var e="";if(g!==undefined){if(a(this).attr("data-on")!==undefined){e="switch-"+a(this).attr("data-on")}f.removeClass(e);e="switch-"+g;f.addClass(e)}},setOffClass:function(f){var g=a(this).find(".switch-right");var e="";if(f!==undefined){if(a(this).attr("data-off")!==undefined){e="switch-"+a(this).attr("data-off")}g.removeClass(e);e="switch-"+f;g.addClass(e)}},setAnimated:function(f){var e=a(this).find(c).parent();if(f===undefined){f=false}e.data("animated",f);e.attr("data-animated",f);if(e.data("animated")!==false){e.addClass("switch-animate")}else{e.removeClass("switch-animate")}},setSizeClass:function(h){var f=a(this);var g=f.find(".switch-left");var i=f.find(".switch-right");var e=f.find("label");a.each(["switch-mini","switch-small","switch-large"],function(j,k){if(k!==h){g.removeClass(k);i.removeClass(k);e.removeClass(k)}else{g.addClass(k);i.addClass(k);e.addClass(k)}})},status:function(){return a(this).find(c).is(":checked")},destroy:function(){var g=a(this),f=g.find("div"),h=g.closest("form"),e;f.find(":not(input)").remove();e=f.children();e.unwrap().unwrap();e.unbind("change");if(h){h.unbind("reset");h.removeData("bootstrapSwitch")}return e}};if(b[d]){return b[d].apply(this,Array.prototype.slice.call(arguments,1))}else{if(typeof d==="object"||!d){return b.init.apply(this,arguments)}else{a.error("Method "+d+" does not exist!")}}}}(jQuery);(function(a){a(function(){a(".switch").bootstrapSwitch()})})(jQuery);
